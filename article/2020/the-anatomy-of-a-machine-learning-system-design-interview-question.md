> * 原文地址：[The Anatomy of a Machine Learning System Design Interview Question](https://medium.com/better-programming/the-anatomy-of-a-machine-learning-system-design-interview-question-1d9a1a5d23e)
> * 原文作者：[The Educative Team](https://medium.com/@educative)
> * 译文出自：[掘金翻译计划](https://github.com/xitu/gold-miner)
> * 本文永久链接：[https://github.com/xitu/gold-miner/blob/master/article/2020/the-anatomy-of-a-machine-learning-system-design-interview-question.md](https://github.com/xitu/gold-miner/blob/master/article/2020/the-anatomy-of-a-machine-learning-system-design-interview-question.md)
> * 译者：[caiyundong](http://github.com/caiyundong)
> * 校对者：

# 机器学习系统设计相关面试问题的剖析

![Image credit: Author](https://cdn-images-1.medium.com/max/2048/1*Ep0crcTbOZBLZwVW8W3JDQ.png)

随着越来越多的行业采用机器学习（Machine Learning, ML）系统，机器学习系统设计相关的面试变得越来越普遍。虽然机器学习系统设计的面试在某些方面与普通系统设计面试相似，但它们的差异足以难倒最老练的开发人员。最常见的问题是面试者被大多数机器学习解决方案的大规模应用卡住或吓倒。

今天，我们将为您下一次机器学习系统设计的面试做好准备，其中包括机器学习系统设计的独特性，你应该如何准备以及解决任何机器学习问题应使用的五个步骤。

**今天我们将介绍：**

* 机器学习系统设计的面试有什么不同
* 如何准备机器学习系统设计面试
* 解决任何机器学习系统设计问题的五个步骤
* 总结和相关资源

## 机器学习系统设计的面试有什么不同

机器学习系统设计面试的一般设置与普通系统设计面试类似。对于这两种情况，面试官都会在45至60分钟的时间内，要求您仔细考虑系统的各个组成部分。

机器学习系统设计面试通常更侧重于宏观层面（如体系结构，推荐系统和可扩展性），而尽量避免比如可用性和可靠性等更深入的设计讨论。

在机器学习系统设计面试中，您会被询问到一些高层问题，比如说明如何构建系统的每个组件（数据收集，机器学习算法，信号）用以处理繁重的工作量并能保持快速适应的能力。

对于机器学习系统设计面试，您需要能够解释你的程序如何获取数据并实现可扩展性。

## 如何准备机器学习系统设计面试

机器学习系统设计面试主要测试两件事：您对大型机器学习系统背后的构建和设计选择的知识，以及在应用机器学习概念时清楚表达的能力。

让我们来看一下准备相关知识和准确表达的三种方法。

## 熟悉常见的机器学习面试问题

准备这些问题的最好方法是自己练习机器学习系统设计面试问题。在现代机器学习系统设计面试中，仅会询问几种类型的面试问题。

**最常见的是以下问题的变形问题：**

* “创建一个 Twitter 风格的社交媒体 Feed，以向用户展示他们感兴趣的帖子。”
* “建立一个推荐系统来推荐产品或者服务。”
* “设计一个 Google 风格的搜索引擎为用户量身定制结果。”
* “建立一个向用户展示个性化广告的广告系统。”
* “设计一个识别社交网络中不良行为者的机器学习系统。”

在目标职位的描述中搜索将要使用的特定系统，并研究类似的系统来准备面试。对于没有明确倾向于任何问题类型的工作，请专注于媒体 Feed 和推荐系统，因为这两个是最常见的问题。

## 关注每个机器学习解决方案的四个部分

![Image source: Author](https://cdn-images-1.medium.com/max/2000/0*Dp0BQjXD6BO-tbnO)

**每个机器学习解决方案都有四个主要部分：**

* 机器学习算法
* 训练数据
* 信号（有时称为**特征**）
* 验证和评价指标

对于**算法**，您将选择哪种算法，为什么选择？深度学习，线性回归，还是随机森林？每个算法的优点和缺点是什么？根据您的系统需求他们能完成什么工作？

对于**数据**，您将在哪里获得测试数据？您将提取哪些数据点？您将处理多少数据点？

对于**信号**，您的程序使用什么评价指标来确定相关数据？您会关注数据的某一方面还是将其从多个方面进行综合？确定数据相关性需要多长时间？

对于**评价指标**，您将使用哪些指标跟踪模型是否训练成功和更新程序的学习？您将如何衡量系统的成功？您将如何验证您的假设？

## 练习大声讲解出来

许多参加面试者对概念和算法做了很深入的研究，但没有对面试的口语部分做足够的练习。

练习在整个过程中大声地解释系统的体系结构。叙述您所做的任何决定，并简要解释您做出该选择的原因。这是一个向面试官展示您的想法，而不仅仅是您所知道的知识的绝好机会。

此外，练习常见问题的答案。面试官会要求您澄清程序中的任何决策点或不确定性。您要确保可以证明在过程中的任何时候所做的设计选择都是合理的。

**一些常见的探究问题：**

* 该程序大规模执行的表现会怎么样？
* 您将如何获取训练数据？
* 您将如何保持较低的延迟？

## 解决任何机器学习系统设计问题的五个步骤

机器学习系统设计面试通常会有严格的时间限制，即45或60分钟，包含在开始和结束时用5分钟做介绍/总结。

因此通常来讲，您需要在35到50分钟内描述清楚你的机器学习程序中的所有关键内容。因此为如何介绍整个系统做一个结构化的计划很重要，以确保您能够让整个过程按时进行。

接下来，我们将研究如何分配时间解决任何一个机器学习问题。为了帮助您了解这一过程，我们将展示一个45分钟的采访示例，通过一个Feed类型的问题，来演示每个步骤。

如果您增加每个步骤的时间，则可以将这些步骤调整为60分钟的面试时间。

**我们的问题是：创建一个内容Feed以向用户显示个性化帖子。**

![](https://cdn-images-1.medium.com/max/4830/1*089x6xZcQvuXGZY3A9AtRQ.png)

#### 步骤1 明确需求（5分钟）

在最初的五分钟内，我们将向面试官明确我们的**系统目标**和**需求**。 这些面试问题刻意含糊，使您需要直接要求必要的信息。您提出的澄清问题将有助于指导您的设计并确定系统的最终目标。

**一些常见的澄清问题：**

* 我们希望该程序可以处理多少个用户？
* 我们当前正在跟踪哪些指标？
* 我们想用这个系统实现什么？我们要优化什么？
* 我们期望什么类型的输入？

**步骤1 示例**

如果我们要澄清示例的Feed问题，我们可以问：

* 这将是哪种Feed？纯文字？文字和图片？
* 我们期望有多少用户？每人每天发布多少个帖子？
* 我们的系统针对什么指标需要进行优化？我们要增加每个帖子的参与度还是增加帖子的数量？
* 我们有目标延迟吗？
* 我们的系统将多快应用新的学习模型？

#### 步骤2 高层设计（5分钟）

在接下来的五分钟内，创建一个高层设计来处理从输入到使用的数据。直观地绘制图表并连接所有交互的组件。面试官在构建时会询问一些探索性问题，因此请注意一些面试官提示您缺少组件的问题。

记住要保持概括：确定多少层，数据将如何进入系统，数据将如何解析以及如何决定相关数据。

确保明确提及您为可扩展性或响应时间所做的任何选择。

**步骤2 示例**

我们会说我们的培训数据来自我们当前的社交媒体平台。每次创建新帖子时，根据创建者的位置，创建者过去的帖子的受欢迎程度以及帖子关注者的帐户，新的实时数据将进入系统。

我们将使用这些指标来确定帖子与用户的相关性。相关性将在启动应用程序时确定。我们的目标是增加每个帖子的参与度。

#### 步骤3：深入研究数据（10分钟）

在接下来的十分钟内，请深入研究以解释您的数据。确保同时涵盖训练数据和实时数据。考虑一下在整个过程中数据将如何转换。

机器学习面试官寻找了解数据采样重要性的候选人。您将需要澄清从何处获取训练数据，当前系统中存在的要使用的数据点以及要开始跟踪的数据。

对于普通的系统设计面试，面试者仅考虑数据进入程序流后会发生什么情况。

**对于训练数据，请考虑：**

* 我将从什么来源获得训练数据？
* 我如何确保它是无偏见的？

**对于实时数据，请考虑：**

* 我将在数据中使用什么信号（特征）？
* 为什么这个信号是相关的？
* 有没有什么情况下此信号都无法反映我想要的结果？
* 我的算法反应速度如何？更改会在十分钟或十小时之内发生吗？
* 我的程序一次可以处理多少数据？如果输入增多，效果会变差吗？

**步骤3 示例**

我们希望每个用户关注300个帐户，并且每个帐户平均每天发布3条帖子。在系统评估1,000个帖子时我们将分三层进行数据评估使延迟保持在较低水平。第一层会根据帖子的受欢迎程度快速去除大部分帖子。

第二层使用位置数据根据位置去除帖子。这是我们第二快的层。第三层将是耗时最长的，将使用关注者和被关注者之间的交叉参与数据来去除帖子。

#### 步骤4 机器学习算法（10分钟）

在接下来的十分钟内，将您选择的机器学习算法分解给面试官听。每种算法处理某些任务的方式都不同，面试官会希望您了解不同算法的优缺点。

如果您使用多种算法来实现可扩展，请解释它们的结果如何被一起考虑以及您选择多种算法的原因。

请务必提及每种算法如何利用您的信号来创建内聚的解决方案。同一信号在一种算法中可能不如在另一种算法中有效。

**步骤4 示例**

我们将使用前馈神经网络算法来预测相关性。该算法与我们的创建者/用户互动信号配合得很好，因为它可以形成来自非环状连接网的预测。

#### 步骤5 实验（5分钟）

在最后的五分钟中，提出系统能够完成的假设。本节是您的程序的一种总结，您可以在其中总结组件如何共同实现特定目标。

您的假设可能很宽泛，例如“按相关性排序的帖子比按时间顺序排列的参与度更高”，也可能很具体，例如“添加位置信号将使参与度提高0.5％”。

从这里说明您要如何检验该假设。确保涵盖最初的离线评估以及如何在线评估。

* 您将使用哪些离线评估？
* 您需要多大的离线数据集？
* 在线时如果存在错误，您将怎么办？
* 您将如何跟踪用户对变更的满意度？
* 您是否通过评论或与帖子进行任何形式的互动来计算参与度？

机器学习工程师在日常工作中会不断检验假设。对于实验部分的专注将把您与其他面试者区分开，因为它表明您可以综合程序的功能并拥有正确的工作思路。

**步骤5。示例**

我们基于相关性的Feed将使用户参与度提高0.5％。 我们将首先使用离线模型来模拟用户并查看将哪些类型的帖子发送到Feed。

在上线之后，我们将通过“更新”和“相关性”这两个关键字来跟踪帖子，以确定效果。

## 五步骤总结

步骤1：明确要求（5分钟）

步骤2：高层设计（5分钟）

步骤3：深入研究数据（10分钟）

步骤4：机器学习算法（10分钟）

步骤5：实验（5分钟）

## 总结和相关资源

现在，您拥有了完成下一次机器学习面试所需要的一切。 通过准备机器学习的资料和45分钟计时的解决方案，您将从其他仍不熟悉这种不断增长的面试类型的面试者中脱颖而出。

祝面试愉快！

> 如果发现译文存在错误或其他需要改进的地方，欢迎到 [掘金翻译计划](https://github.com/xitu/gold-miner) 对译文进行修改并 PR，也可获得相应奖励积分。文章开头的 **本文永久链接** 即为本文在 GitHub 上的 MarkDown 链接。

---

> [掘金翻译计划](https://github.com/xitu/gold-miner) 是一个翻译优质互联网技术文章的社区，文章来源为 [掘金](https://juejin.im) 上的英文分享文章。内容覆盖 [Android](https://github.com/xitu/gold-miner#android)、[iOS](https://github.com/xitu/gold-miner#ios)、[前端](https://github.com/xitu/gold-miner#前端)、[后端](https://github.com/xitu/gold-miner#后端)、[区块链](https://github.com/xitu/gold-miner#区块链)、[产品](https://github.com/xitu/gold-miner#产品)、[设计](https://github.com/xitu/gold-miner#设计)、[人工智能](https://github.com/xitu/gold-miner#人工智能)等领域，想要查看更多优质译文请持续关注 [掘金翻译计划](https://github.com/xitu/gold-miner)、[官方微博](http://weibo.com/juejinfanyi)、[知乎专栏](https://zhuanlan.zhihu.com/juejinfanyi)。
